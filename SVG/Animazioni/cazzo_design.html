<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8" />
<title>disegno di cazzo</title>
<style type="text/css">
html,body,h1,h2,h3,p,dl,dt,dd,pre,ul, embed{ margin:0; padding:5px; }
h1{ color: #00F; font-size:31px; margin-left:100px; padding:10px; }
h2{color:rgb(50,150,100); font-size:25px; margin-left:50px; padding:10px; }
h3{ color:rgb(200,0,100); font-size:20px; margin-left:31px; padding:10px;}
p{ padding:5px; }
dl{margin-left:20px;}
dt{ color:#039; margin-bottom:5px;}
dd{ color:#06F; margin-left:10px; }
li{margin-left:31px;}
.nota{ color:#F66;}
.codice{ color:#060}
pre{color:rgb(50,150,50); margin-left:5px; }

</style>
</head>
<body>


<h1>Disegnare un percorso in animazione </h1>

<p>
Per disegnare un tracciato animato ci vengono incontro la proprietà <b>stroke-dashoffset</b>, che permette di stabilire l'inizio del tratto, e il metodo <b>getTotalLength()</b> che ci permette di ottenere la lunghezza del tracciato. Quindi con l'impostazione di una transizione otteniamo il risultato desiderato. 
</p>

<button id="pulsante">disegna sto cazzo</button>


<div>
	<svg width="500" height=400>				

		<path id="ciola" fill="none" stroke="deeppink" stroke-width="14" stroke-miterlimit="0"
  d="M11.6 269s-19.7-42.4 6.06-68.2 48.5-6.06 59.1 12.1l-3.03 28.8 209-227s45.5-21.2 60.6 1.52c15.2 22.7-3.03 47-3.03 47l-225 229s33.1-12 48.5 7.58c50 63.6-50 97-62.1 37.9"
		/>

		<script type="application/ecmascript"> <![CDATA[
			var path = document.getElementById('ciola');
			path.getTotalLength();				// 1119.22998046875	
			var lunghezza = path.getTotalLength();
//console.log();		
			path.style.transition = path.style.webkitTransition = 'none';
			path.style.strokeDasharray = lunghezza + ' ' + lunghezza;
			path.style.strokeDashoffset = lunghezza;		// non facciamo altro che nascondere il tracciato perchè impostiamo (con strokeDashoffset) il suo inizio dalla sua fine. In altre parole dovrebbe iniziare dalla sua fine e quindi ovvio che lo si nasconde
//		path.getBoundingClientRect();					// ??
			path.style.transition = path.style.webkitTransition = 'stroke-dashoffset 4s ease-in-out';		

			var pulsante = document.getElementById('pulsante');
			pulsante.addEventListener('click', function (){
				path.style.strokeDashoffset = '0';
			}, false);

		]]> </script>

	</svg> 
</div> 




</body>
</html>
